{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>{% block title %}Quiz RPG{% endblock %}</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'game/style.css' %}" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
  </head>

  <body>
    <header class="bg-dark text-white">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid d-flex justify-content-between align-items-center py-2">

          <!-- LEFT: Navigation -->
          <div class="d-flex align-items-center gap-3">
            <a class="navbar-brand me-3" href="{% url 'home' %}">
              <i class="bi bi-stars"></i> Quiz RPG
            </a>
            <ul class="navbar-nav flex-row gap-2">
              <li class="nav-item"><a class="nav-link btn btn-outline-secondary" href="{% url 'home' %}"><i class="bi bi-house-door"></i> Home</a></li>
              <li class="nav-item"><a class="nav-link btn btn-outline-secondary" href="{% url 'profile' %}"><i class="bi bi-person"></i> Profile</a></li>
              <li class="nav-item"><a class="nav-link btn btn-outline-secondary" href="{% url 'character' %}"><i class="bi bi-person-lines-fill"></i> Character</a></li>
              <li class="nav-item"><a class="nav-link btn btn-outline-secondary" href="{% url 'inventory' %}"><i class="bi bi-locker"></i> Inventory</a></li>
              <li class="nav-item"><a class="nav-link btn btn-outline-secondary" href="{% url 'shop' %}"><i class="bi bi-cart"></i> Shop</a></li>
              <li class="nav-item"><a class="nav-link btn btn-outline-secondary" href="{% url 'quest_log' %}"><i class="bi bi-journal-check"></i> Quest Log</a></li>
              <li class="nav-item"><a class="nav-link btn btn-outline-secondary" href="{% url 'quest_list' %}"><i class="bi bi-list-columns"></i> Quest Board</a></li>
              <li class="nav-item"><a class="nav-link btn btn-outline-secondary" href="{% url 'battle_select' %}"><i class="bi bi-crosshair"></i> PvE</a></li>
              <li class="nav-item"><a class="nav-link btn btn-outline-secondary" href="{% url 'tavern' %}"><i class="bi bi-cup-hot"></i> Tavern</a></li>
            </ul>
          </div>

          <!-- RIGHT: Player stats and logout -->
          <div class="d-flex align-items-center gap-3">
            {% if character %}
              <span class="text-white small">
                <i class="bi bi-person-circle"></i> {{ character.name }} (Lv {{ character.level }})
                <span class="text-warning ms-2">⚡ {{ character.stamina }}/{{ character.max_stamina }}</span>
                <span class="text-danger ms-2">❤ {{ character.hp }}/{{ character.max_hp }}</span>
                <span class="text-primary ms-2">💧 {{ character.mana }}/{{ character.max_mana }}</span>
                <span class="text-success ms-2">🛡️ {{ character.armor }}</span>
                <span class="text-warning ms-2">💰 {{ character.gold }}</span>
                <span class="text-info ms-2">⭐ {{ character.experience }} XP</span>
              </span>
            {% endif %}
            <a class="btn btn-outline-light btn-sm" href="{% url 'logout' %}">Logout</a>
          </div>

        </div>
      </nav>
    </header>

    <main class="container mt-4">
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
      {% endif %}

      {% block content %}{% endblock %}
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
